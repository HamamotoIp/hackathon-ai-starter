# ğŸ—ï¸ AI Chat Starter Kit - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°

> **æ³¨æ„**: ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯æŠ€è¡“è©³ç´°ã‚’è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚
> åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•ã¯ [README.md](./README.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

AI Chat Starter Kitã¯ã€æ©Ÿèƒ½ãƒ™ãƒ¼ã‚¹ã§AIã‚’ä½¿ã„åˆ†ã‘ã‚‹ãƒãƒƒã‚«ã‚½ãƒ³ç‰¹åŒ–ã®ãƒãƒ£ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚Vertex AI Directï¼ˆé«˜é€Ÿï¼‰ã¨ADK Agent Engineï¼ˆé«˜å“è³ªï¼‰ã‚’é©åˆ‡ã«ä½¿ã„åˆ†ã‘ã€30ç§’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰æœ¬æ ¼é‹ç”¨ã¾ã§å¯¾å¿œã—ã¾ã™ã€‚

## ğŸ›ï¸ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæœ€æ–°ç‰ˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ğŸŒ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (@kokorone/frontend)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“± Pages (App Router - Next.js 15.3.1)                       â”‚
â”‚  â”œâ”€â”€ / (ãƒ›ãƒ¼ãƒ ãƒ»ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³)     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”œâ”€â”€ /ai-features (AIæ©Ÿèƒ½çµ±åˆ)    â”‚  ğŸ¨ UI Components          â”‚  â”‚
â”‚  â”œâ”€â”€ /ui-builder (UIç”Ÿæˆãƒ„ãƒ¼ãƒ«)    â”‚  â”œâ”€â”€ SimpleForm.tsx        â”‚  â”‚
â”‚  â”œâ”€â”€ /ui-preview (UIãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼)    â”‚  â”œâ”€â”€ ImageUpload.tsx       â”‚  â”‚
â”‚  â”œâ”€â”€ /content-management (ç”»åƒ)   â”‚  â”œâ”€â”€ LoadingSpinner.tsx    â”‚  â”‚
â”‚  â””â”€â”€ /dashboard (ç®¡ç†ç”»é¢)        â”‚  â””â”€â”€ ErrorMessage.tsx     â”‚  â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  ğŸ”Œ API Routes (å®Ÿè£…æ¸ˆã¿)                                        â”‚
â”‚  â”œâ”€â”€ /api/chat/basic     # âœ… Vertex AI Direct           â”‚
â”‚  â”œâ”€â”€ /api/analysis       # âœ… ADK Analysis Agent         â”‚
â”‚  â”œâ”€â”€ /api/ui-generation  # âœ… ADK UI Generation Agent    â”‚
â”‚  â”œâ”€â”€ /api/images/upload  # âœ… Cloud Storageçµ±åˆ          â”‚
â”‚  â”œâ”€â”€ /api/agent          # âœ… ADK Orchestrator          â”‚
â”‚  â””â”€â”€ /api/debug          # âœ… ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒãƒƒã‚°            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â•‘
                                    â•‘ HTTP/JSON
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ§  AIProcessor (çµ±åˆå‡¦ç†å±¤)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”€ æ©Ÿèƒ½ãƒ™ãƒ¼ã‚¹æŒ¯ã‚Šåˆ†ã‘                                              â”‚
â”‚  â”œâ”€â”€ basic_chat â†’ Vertex AI Direct                           â”‚
â”‚  â”œâ”€â”€ analysis_report â†’ ADK Agent                             â”‚
â”‚  â””â”€â”€ comparison_study â†’ ADK Agent                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â•‘                           â•‘
                    â•‘ gRPC/REST                â•‘ HTTP/JSON
                    â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ğŸ¤– Vertex AI Direct     â”‚    â”‚   ğŸ­ ADK Agent Engine      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Gemini 2.0 Flash       â”‚ â”‚    â”‚  â”‚  Analysis Agent         â”‚ â”‚
â”‚  â”‚  - é«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹ < 5ç§’   â”‚ â”‚    â”‚  â”‚  (analysis_agent.py)    â”‚ â”‚
â”‚  â”‚  - æ±ç”¨ä¼šè©±ãƒ»è³ªå•å›ç­”     â”‚ â”‚    â”‚  â”‚  - è©³ç´°åˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ â”‚ â”‚
â”‚  â”‚  - ä½ã‚³ã‚¹ãƒˆé‹ç”¨         â”‚ â”‚    â”‚  â”‚  - æ§‹é€ åŒ–JSONå‡ºåŠ›       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                                  â”‚  â”‚  UI Generation Agent    â”‚ â”‚
                                  â”‚  â”‚  (ui_generation_agent.py)â”‚ â”‚
                                  â”‚  â”‚  - HTML/Tailwindç”Ÿæˆ     â”‚ â”‚
                                  â”‚  â”‚  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ â”‚ â”‚
                                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â•‘
                                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    â˜ï¸ GCP Infrastructure                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸš€ Cloud Run (Frontend)    ğŸ“¦ Cloud Storage (Images)         â”‚
â”‚  ğŸš€ Cloud Run (Agent Engine) ğŸ” Service Account (IAM)         â”‚
â”‚  ğŸ§  Vertex AI (Gemini)      ğŸ“Š Manual Deploy (setup.sh)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”€ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è©³ç´°

### 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰AIå¿œç­”ã¾ã§

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ä¾‹:
â€¢ "ã“ã‚“ã«ã¡ã¯" â†’ basic_chat â†’ Vertex AI Direct (é«˜é€Ÿ)
â€¢ "å¸‚å ´ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã¦ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ" â†’ analysis â†’ ADK Analysis Agent (è©³ç´°)
â€¢ "ãƒœã‚¿ãƒ³ã¨ãƒ•ã‚©ãƒ¼ãƒ ã®UIã‚’ä½œã£ã¦" â†’ ui_generation â†’ ADK UI Generation Agent (HTML/Tailwind)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ”€ AIProcessor (æ©Ÿèƒ½åˆ¤å®šãƒ»ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)                   â”‚
â”‚                                                                 â”‚
â”‚  1. ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›åˆ†æï¼ˆè‡ªç„¶è¨€èªå‡¦ç†ï¼‰                             â”‚
â”‚  2. AIæ©Ÿèƒ½è‡ªå‹•åˆ¤å®šï¼ˆbasic_chat/analysis/ui_generationï¼‰        â”‚
â”‚  3. æœ€é©AIã‚µãƒ¼ãƒ“ã‚¹é¸æŠï¼ˆVertex AI/ADK Agent Engineï¼‰             â”‚
â”‚  4. ãƒªã‚¯ã‚¨ã‚¹ãƒˆè»¢é€ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ¨™æº–åŒ–                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                  â”‚
           â–¼ (ã‚·ãƒ³ãƒ—ãƒ«å‡¦ç†)                     â–¼ (è¤‡é›‘å‡¦ç†)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ğŸ¤– Vertex AI Direct (basic_chat)                     â”‚
â”‚                                                                 â”‚
â”‚  â— é«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹ (< 5ç§’)                                        â”‚
â”‚  â— ä½ã‚³ã‚¹ãƒˆãƒ»é«˜å“è³ªï¼ˆæœˆé¡ $0-3ï¼‰                                â”‚
â”‚  â— æ±ç”¨çš„ãªä¼šè©±ãƒ»è³ªå•å›ç­”                                        â”‚
â”‚  â— Gemini 2.0 Flash ãƒ¢ãƒ‡ãƒ«ä½¿ç”¨                                   â”‚
â”‚  â— @google-cloud/vertexai 1.10.0                               â”‚
â”‚                                                                 â”‚
â”‚  é©ç”¨ä¾‹: "ã“ã‚“ã«ã¡ã¯"ã€"Reactã¨ã¯ï¼Ÿ"ã€"å¤©æ°—äºˆå ±"                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ğŸ­ ADK Agent Engine (analysis, ui_generation)              â”‚
â”‚                                                                 â”‚
â”‚  â— è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã®æ·±åº¦åˆ†æãƒ»å‡¦ç† (20-45ç§’)                       â”‚
â”‚  â— å°‚é–€ç‰¹åŒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ»ç‹¬ç«‹ãƒ‡ãƒ—ãƒ­ã‚¤                           â”‚
â”‚  â— æ§‹é€ åŒ–ã•ã‚ŒãŸè©³ç´°å‡ºåŠ›ãƒ»JSON Schemaå¯¾å¿œ                        â”‚
â”‚  â— Python Flask 3.0.0 + Google ADK 1.93.0                     â”‚
â”‚  â— å®Ÿè£…æ¸ˆã¿ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆ/analysis, /ui-generationï¼‰          â”‚
â”‚                                                                 â”‚
â”‚  é©ç”¨ä¾‹: "å£²ä¸Šãƒ‡ãƒ¼ã‚¿åˆ†æãƒ¬ãƒãƒ¼ãƒˆ"ã€"HTML/Tailwindã§UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸ”„ æ¨™æº–åŒ–ã•ã‚ŒãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹                        â”‚
â”‚                                                                 â”‚
â”‚  â— ä¸€è²«ã—ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ                              â”‚
â”‚  â— å‡¦ç†æ™‚é–“ãƒ»ã‚³ã‚¹ãƒˆãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä»˜ã                          â”‚
â”‚  â— ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå¯¾å¿œ                      â”‚
â”‚  â— ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸è¿”å´
```

### 2. ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”»åƒé¸æŠ
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ“· ImageUpload Component                     â”‚
â”‚                                                                 â”‚
â”‚  1. ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ (ã‚µã‚¤ã‚ºã€å½¢å¼)                        â”‚
â”‚  2. FormDataä½œæˆ                                                â”‚
â”‚  3. /api/images/upload ã«POST                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ”Œ API Route (/api/images/upload)            â”‚
â”‚                                                                 â”‚
â”‚  1. ãƒ•ã‚¡ã‚¤ãƒ«å—ä¿¡ãƒ»æ¤œè¨¼                                          â”‚
â”‚  2. Cloud Storage ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰                                  â”‚
â”‚  3. å…¬é–‹URLã®ç”Ÿæˆ                                              â”‚
â”‚  4. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä»˜ããƒ¬ã‚¹ãƒãƒ³ã‚¹                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â˜ï¸ Google Cloud Storage                      â”‚
â”‚                                                                 â”‚
â”‚  â— è‡ªå‹•ã‚³ã‚¹ãƒˆæœ€é©åŒ– (30æ—¥å¾Œå‰Šé™¤)                               â”‚
â”‚  â— å…¬é–‹URLç”Ÿæˆ                                                  â”‚
â”‚  â— å†—é•·åŒ–ãƒ»é«˜å¯ç”¨æ€§                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§© ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°

### 1. AIProcessor (æ ¸å¿ƒçµ±åˆå±¤)

```typescript
// packages/frontend/src/server/lib/aiProcessor.ts
export class AIProcessor {
  // æ©Ÿèƒ½ãƒ™ãƒ¼ã‚¹ã§AIå‡¦ç†ã‚’å®Ÿè¡Œ
  async processFeature(request: AIFeatureRequest): Promise<AIFeatureResponse> {
    const config = getFeatureConfig(request.feature);
    
    // å‡¦ç†æ™‚é–“è¨ˆæ¸¬é–‹å§‹
    const startTime = Date.now();
    
    try {
      if (config.processingMode === "vertex_direct") {
        return await this.processWithVertexAI(request);
      } else if (config.processingMode === "adk_agent") {
        return await this.processWithADK(request, config.adkEndpoint!);
      }
    } catch (error) {
      // çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
      return this.handleError(error, request.feature);
    } finally {
      // å‡¦ç†æ™‚é–“ãƒ­ã‚°
      const processingTime = Date.now() - startTime;
      console.log(`AIå‡¦ç†å®Œäº†: ${request.feature} (${processingTime}ms)`);
    }
  }
}
```

**è²¬å‹™:**
- æ©Ÿèƒ½åˆ¤å®šã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- AIå‡¦ç†ã®çµ±åˆç®¡ç†
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ¨™æº–åŒ–
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå¯¾å¿œ
- å‡¦ç†æ™‚é–“ç›£è¦–ãƒ»ãƒ­ã‚°ç®¡ç†

### 2. AIæ©Ÿèƒ½è¨­å®š (Human-Controlled)

```typescript
// packages/frontend/src/core/types/AIFeatures.ts
export const AI_FEATURE_CONFIGS: Record<AIFeatureType, AIFeatureConfig> = {
  basic_chat: {
    type: "basic_chat",
    name: "åŸºæœ¬ãƒãƒ£ãƒƒãƒˆ",
    description: "æ—¥å¸¸çš„ãªä¼šè©±ã‚„è³ªå•å›ç­”",
    processingMode: "vertex_direct",  // ğŸ”´ äººé–“ï¼šAIé¸æŠ
    maxInputLength: 2000,
    expectedProcessingTime: 5,
    costTier: "low",                 // ã‚³ã‚¹ãƒˆåˆ†é¡
    useCases: ["æ—¥å¸¸ä¼šè©±", "è³ªå•å›ç­”", "ç°¡å˜ãªæƒ…å ±åé›†"]
  },
  analysis_report: {
    type: "analysis_report",
    name: "åˆ†æãƒ¬ãƒãƒ¼ãƒˆ",
    description: "ãƒ‡ãƒ¼ã‚¿åˆ†æã‚„è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ",
    processingMode: "adk_agent",      // ğŸ”´ äººé–“ï¼šAIé¸æŠ
    maxInputLength: 5000,
    expectedProcessingTime: 30,
    adkEndpoint: "/analysis",
    costTier: "medium",              // ã‚³ã‚¹ãƒˆåˆ†é¡
    useCases: ["ãƒ‡ãƒ¼ã‚¿åˆ†æ", "å¸‚å ´èª¿æŸ»", "è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ"]
  },
  comparison_study: {
    type: "comparison_study",
    name: "æ¯”è¼ƒç ”ç©¶",
    description: "è¤‡æ•°é …ç›®ã®æ¯”è¼ƒãƒ»è©•ä¾¡",
    processingMode: "adk_agent",      // ğŸ”´ äººé–“ï¼šAIé¸æŠ
    maxInputLength: 4000,
    expectedProcessingTime: 45,      // å®Ÿæ¸¬å€¤ã«åŸºã¥ãæ›´æ–°
    adkEndpoint: "/comparison",
    costTier: "medium",
    useCases: ["å•†å“æ¯”è¼ƒ", "æŠ€è¡“é¸æŠæ”¯æ´", "æ„æ€æ±ºå®šã‚µãƒãƒ¼ãƒˆ"]
  }
};
```

### 3. UI Components (AI-Managed)

```
packages/frontend/src/
â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”œâ”€â”€ ai-features/          # AIæ©Ÿèƒ½çµ±åˆãƒšãƒ¼ã‚¸ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰
â”‚   â”‚   â”œâ”€â”€ FeatureCard.tsx   # AIæ©Ÿèƒ½ã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ page.tsx         # çµ±åˆä½“é¨“ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ content-management/  # ç”»åƒç®¡ç†ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ ContentManagementPage.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â””â”€â”€ api/                 # API Routes
â”‚       â”œâ”€â”€ chat/basic/route.ts
â”‚       â”œâ”€â”€ analysis/route.ts
â”‚       â”œâ”€â”€ ui-generation/route.ts
â”‚       â””â”€â”€ images/upload/route.ts
â”œâ”€â”€ ui/components/           # å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”œâ”€â”€ ErrorMessage.tsx
â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.tsx
â”‚   â”‚   â””â”€â”€ Navigation.tsx
â”‚   â””â”€â”€ features/
â”‚       â””â”€â”€ ImageUpload/
â”‚           â””â”€â”€ ImageUpload.tsx
â””â”€â”€ server/lib/              # ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯
    â””â”€â”€ aiProcessor.ts       # AIå‡¦ç†çµ±åˆå±¤
```

## ğŸ”„ AIã‚¨ãƒ³ã‚¸ãƒ³æ¯”è¼ƒ

| é …ç›® | Vertex AI Direct | ADK Agent Engine |
|------|------------------|------------------|
| **ç”¨é€”** | åŸºæœ¬ãƒãƒ£ãƒƒãƒˆ | åˆ†æãƒ»UIç”Ÿæˆ |
| **å¿œç­”é€Ÿåº¦** | < 5ç§’ | 20-45ç§’ |
| **å‡¦ç†èƒ½åŠ›** | æ±ç”¨ä¼šè©±ãƒ»è³ªå•å›ç­” | æ·±åº¦åˆ†æãƒ»UIç”Ÿæˆãƒ»å°‚é–€ã‚¿ã‚¹ã‚¯ |
| **ã‚³ã‚¹ãƒˆ** | ä½ï¼ˆæœˆé¡$0-3ï¼‰ | ä¸­ï¼ˆæœˆé¡$2-5ï¼‰ |
| **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º** | é™å®šçš„ | é«˜ã„ï¼ˆPython Agentï¼‰ |
| **å‡ºåŠ›å½¢å¼** | ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ | æ§‹é€ åŒ–JSONãƒ»ãƒ¬ãƒãƒ¼ãƒˆ |
| **åŒæ™‚å‡¦ç†** | é«˜ã„ | ä¸­ç¨‹åº¦ |
| **å­¦ç¿’å¯¾å¿œ** | äº‹å‰å­¦ç¿’æ¸ˆã¿ | ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ |
| **ãƒ‡ãƒ—ãƒ­ã‚¤** | GCP Managed | Cloud Run Container |

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### èªè¨¼ãªã—è¨­è¨ˆã®ç†ç”±
- **ãƒãƒƒã‚«ã‚½ãƒ³ç‰¹åŒ–**: è¿…é€Ÿãªé–‹ç™ºãƒ»ãƒ‡ãƒ¢ã‚’å„ªå…ˆï¼ˆ30ç§’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼‰
- **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ®µéš**: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã¯å¾Œã‹ã‚‰è¿½åŠ å¯èƒ½ãªè¨­è¨ˆ
- **é–‹ç™ºåŠ¹ç‡**: è¨­å®šãƒ»ç®¡ç†ã®è¤‡é›‘ã•ã‚’å›é¿ã€AIæ©Ÿèƒ½ã«é›†ä¸­
- **ã‚ªãƒ¼ãƒ—ãƒ³ã‚¢ã‚¯ã‚»ã‚¹**: ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‡ãƒ¢ãƒ»ãƒ†ã‚¹ãƒˆç’°å¢ƒã¨ã—ã¦æœ€é©

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–
- **ç’°å¢ƒå¤‰æ•°**: æ©Ÿå¯†æƒ…å ±ï¼ˆAPI Keyã€Project IDï¼‰ã¯ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†
- **GCP IAM**: æœ€å°æ¨©é™ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆaiplatform.userã€storage.objectAdminï¼‰
- **APIåˆ¶é™**: å…¥åŠ›é•·åˆ¶é™ï¼ˆ2000-5000æ–‡å­—ï¼‰ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆ30-300ç§’ï¼‰
- **CORS**: é©åˆ‡ãªã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³è¨­å®šãƒ»ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ¶é™
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ¤œè¨¼ãƒ»ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
- **Cloud Run**: ã‚³ãƒ³ãƒ†ãƒŠåˆ†é›¢ãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ¶é™

### æœ¬ç•ªç’°å¢ƒå¯¾å¿œ
- **èªè¨¼è¿½åŠ **: Firebase Authã€Auth0ç­‰ã®çµ±åˆãŒå®¹æ˜“
- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: Cloud Armorã€API Gatewayçµ±åˆ
- **SSL/TLS**: Cloud Runæ¨™æº–å¯¾å¿œ
- **ãƒ­ã‚°ç›£è¦–**: Cloud Loggingãƒ»Monitoringæ¨™æº–çµ±åˆ

## ğŸ’° ã‚³ã‚¹ãƒˆæœ€é©åŒ–

### Cloud Runè¨­å®šï¼ˆã‚³ã‚¹ãƒˆæœ€é©åŒ–ï¼‰
```bash
# config.sh ã§ã®è¨­å®šä¾‹
MEMORY="512Mi"        # å¿…è¦æœ€å°é™ï¼ˆå¢—é‡å¯èƒ½ï¼š1Gi, 2Giï¼‰
CPU="1"              # å¿…è¦æœ€å°é™ï¼ˆå¢—é‡å¯èƒ½ï¼š2, 4ï¼‰
MAX_INSTANCES="1"    # æš´èµ°ã‚³ã‚¹ãƒˆé˜²æ­¢ï¼ˆå¢—é‡å¯èƒ½ï¼š3, 5, 10ï¼‰
MIN_INSTANCES="0"    # ã‚¢ã‚¤ãƒ‰ãƒ«æ™‚å®Œå…¨ç„¡æ–™
CONCURRENCY="1000"   # é«˜ã„åŒæ™‚å®Ÿè¡Œæ•°ã§åŠ¹ç‡åŒ–
```

### ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æœ€é©åŒ–
```bash
# Cloud Storageè¨­å®š
LIFECYCLE_DAYS="30"  # è‡ªå‹•å‰Šé™¤ã§ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚³ã‚¹ãƒˆå‰Šæ¸›
STORAGE_CLASS="STANDARD"  # æ¨™æº–ã‚¯ãƒ©ã‚¹ï¼ˆã‚¢ã‚¯ã‚»ã‚¹é »åº¦é«˜ã„ï¼‰
REGION="us-central1"  # ä½ä¾¡æ ¼ãƒªãƒ¼ã‚¸ãƒ§ãƒ³
```

### ã‚³ã‚¹ãƒˆå†…è¨³ãƒ»æ¨å®š
```
ğŸ“Š æœˆé¡ã‚³ã‚¹ãƒˆå†…è¨³ï¼ˆå®Ÿæ¸¬ãƒ™ãƒ¼ã‚¹ï¼‰ï¼š

ğŸ”¹ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆCloud Runï¼‰
  â€¢ é€šå¸¸åˆ©ç”¨ï¼š$0-1 USD
  â€¢ é«˜åˆ©ç”¨ï¼š$1-2 USD

ğŸ”¹ AIã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆCloud Runï¼‰
  â€¢ é€šå¸¸åˆ©ç”¨ï¼š$0-1 USD
  â€¢ é«˜åˆ©ç”¨ï¼š$1-2 USD

ğŸ”¹ Vertex AIï¼ˆå¾“é‡èª²é‡‘ï¼‰
  â€¢ åŸºæœ¬ãƒãƒ£ãƒƒãƒˆï¼š$0-1 USD
  â€¢ é«˜åˆ©ç”¨ï¼š$1-2 USD

ğŸ”¹ Cloud Storage
  â€¢ ç”»åƒä¿å­˜ï¼š$0-1 USD

ğŸ“ˆ åˆè¨ˆæ¨å®šï¼š$0-6 USD/æœˆ
```

### ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æ™‚ã®ã‚³ã‚¹ãƒˆ
- **é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ**: $0-2 USD/æœˆ
- **å°è¦æ¨¡é‹ç”¨**: $2-6 USD/æœˆ
- **ä¸­è¦æ¨¡é‹ç”¨**: $5-15 USD/æœˆï¼ˆconfig.shèª¿æ•´ã§åˆ¶å¾¡å¯èƒ½ï¼‰

## ğŸš€ ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

### æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- **Cloud Run**: ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹è‡ªå‹•å¢—æ¸›ï¼ˆ0-1000ï¼‰
- **ADK Agent Engine**: ç‹¬ç«‹ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ç‹¬ç«‹ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- **ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°**: GCPæ¨™æº–æ©Ÿèƒ½ãƒ»è‡ªå‹•åˆ†æ•£
- **ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³**: è¨­å®šå¤‰æ›´ã§å¯¾å¿œå¯èƒ½

### å‚ç›´ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
```bash
# config.sh ã§ã®æ€§èƒ½èª¿æ•´
MEMORY="1Gi"         # é«˜è² è·å¯¾å¿œï¼ˆ512Mi â†’ 1Gi â†’ 2Giï¼‰
CPU="2"              # ä¸¦åˆ—å‡¦ç†å¼·åŒ–ï¼ˆ1 â†’ 2 â†’ 4ï¼‰
CONCURRENCY="2000"   # åŒæ™‚æ¥ç¶šæ•°å¢—åŠ ï¼ˆ1000 â†’ 2000ï¼‰
MAX_INSTANCES="5"    # æœ€å¤§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°å¢—åŠ ï¼ˆ1 â†’ 5 â†’ 10ï¼‰
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™
```
ğŸ“ˆ æ¸¬å®šæ¸ˆã¿ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼š

ğŸ”¹ åŸºæœ¬ãƒãƒ£ãƒƒãƒˆï¼ˆVertex AIï¼‰
  â€¢ å¿œç­”æ™‚é–“ï¼š2-5ç§’
  â€¢ åŒæ™‚æ¥ç¶šï¼š100+
  â€¢ æˆåŠŸç‡ï¼š99.5%+

ğŸ”¹ åˆ†æãƒ¬ãƒãƒ¼ãƒˆï¼ˆADK Agentï¼‰
  â€¢ å¿œç­”æ™‚é–“ï¼š20-30ç§’
  â€¢ åŒæ™‚æ¥ç¶šï¼š10-20
  â€¢ æˆåŠŸç‡ï¼š98%+

ğŸ”¹ æ¯”è¼ƒç ”ç©¶ï¼ˆADK Agentï¼‰
  â€¢ å¿œç­”æ™‚é–“ï¼š25-45ç§’
  â€¢ åŒæ™‚æ¥ç¶šï¼š10-20
  â€¢ æˆåŠŸç‡ï¼š98%+
```

## ğŸ“Š ç›£è¦–ãƒ»ãƒ­ã‚°ãƒ»ãƒ‡ãƒãƒƒã‚°

### æ¨™æº–ç›£è¦–ï¼ˆGCPçµ±åˆï¼‰
- **Cloud Run**: CPUãƒ»ãƒ¡ãƒ¢ãƒªãƒ»ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ãƒ»ã‚¨ãƒ©ãƒ¼ç‡ã®è‡ªå‹•ç›£è¦–
- **Cloud Storage**: ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ãƒ»ä½¿ç”¨é‡ãƒ»å¸¯åŸŸå¹…ç›£è¦–
- **Vertex AI**: APIä½¿ç”¨é‡ãƒ»ã‚³ã‚¹ãƒˆãƒ»ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ç›£è¦–
- **Cloud Logging**: æ§‹é€ åŒ–ãƒ­ã‚°ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º

### ã‚«ã‚¹ã‚¿ãƒ ç›£è¦–ãƒ»ãƒ†ã‚¹ãƒˆ
```bash
# é–‹ç™ºãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«
curl http://localhost:3000/api/debug          # ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒç¢ºèª
./debug.sh                                   # çµ±åˆãƒ‡ãƒãƒƒã‚°ãƒ»è¨ºæ–­
```

### é‹ç”¨ç›£è¦–é …ç›®
- **å‡¦ç†æ™‚é–“**: AIæ©Ÿèƒ½åˆ¥ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ï¼ˆbasic: <5s, analysis: <30s, comparison: <45sï¼‰
- **ã‚¨ãƒ©ãƒ¼ç‡**: HTTP 4xx/5xxãƒ»AI APIå¤±æ•—ç‡
- **ä½¿ç”¨é‡çµ±è¨ˆ**: æ©Ÿèƒ½åˆ¥ä½¿ç”¨é »åº¦ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æ
- **ã‚³ã‚¹ãƒˆç›£è¦–**: æ—¥æ¬¡ãƒ»æœˆæ¬¡ã‚³ã‚¹ãƒˆæ¨ç§»ãƒ»äºˆç®—ã‚¢ãƒ©ãƒ¼ãƒˆ

### ãƒ‡ãƒãƒƒã‚°ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
```bash
# Cloud Run ãƒ­ã‚°ç¢ºèª
gcloud run services logs read ai-chat-frontend-dev --region us-central1

# ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ç¢ºèª
gcloud run services describe ai-chat-frontend-dev --region us-central1

# ãƒªãƒ“ã‚¸ãƒ§ãƒ³å±¥æ­´
gcloud run revisions list --service ai-chat-frontend-dev --region us-central1
```

## ğŸ”§ æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### æ–°AIæ©Ÿèƒ½ã®è¿½åŠ ï¼ˆäººé–“-AIå”åƒï¼‰
```typescript
// 1. æ©Ÿèƒ½å®šç¾©ï¼ˆäººé–“ãŒè¨­è¨ˆï¼‰
// packages/frontend/src/core/types/AIFeatures.ts
export type AIFeatureType = 
  | "basic_chat"
  | "analysis_report" 
  | "comparison_study"
  | "translation";  // æ–°æ©Ÿèƒ½è¿½åŠ 

translation: {
  type: "translation",
  name: "ç¿»è¨³",
  processingMode: "vertex_direct",  // ğŸ”´ äººé–“ï¼šAIé¸æŠ
  maxInputLength: 1500,
  expectedProcessingTime: 4
}

// 2. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆAIãŒå®Ÿè£…ï¼‰
// packages/frontend/src/app/api/translation/route.ts

// 3. UIçµ±åˆï¼ˆAIãŒå®Ÿè£…ï¼‰
// ui/components/features/ ã«è‡ªå‹•çµ±åˆ

// 4. ADK Agentï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
// packages/ai-agents/agents/translation/
```

### æ–°AIã‚µãƒ¼ãƒ“ã‚¹ã®çµ±åˆ
```typescript
// 1. æ–°ã—ã„å‡¦ç†ãƒ¢ãƒ¼ãƒ‰è¿½åŠ 
export type ProcessingMode = 
  | "vertex_direct"
  | "adk_agent"
  | "openai_direct";  // æ–°AIè¿½åŠ 

// 2. AIProcessoræ‹¡å¼µ
// server/lib/aiProcessor.ts
else if (config.processingMode === "openai_direct") {
  return await this.processWithOpenAI(request);
}

// 3. è¨­å®šã®æ‹¡å¼µ
// core/constants/aiProviders.ts
```

### ã‚·ã‚¹ãƒ†ãƒ æ‹¡å¼µãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **: Firebase Authãƒ»Auth0çµ±åˆ
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Cloud Firestoreãƒ»PostgreSQLçµ±åˆ
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redisãƒ»Memcachedçµ±åˆ
- **API Gateway**: Cloud Endpointsãƒ»Kongçµ±åˆ
- **ç›£è¦–å¼·åŒ–**: Prometheusãƒ»Grafanaçµ±åˆ

### é–‹ç™ºåŠ¹ç‡æœ€é©åŒ–
```bash
# ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªè¨­å®šé …ç›®
# config.sh ã§ã®ç’°å¢ƒèª¿æ•´
REGION="asia-northeast1"     # ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å¤‰æ›´
ENVIRONMENT="staging"        # ç’°å¢ƒåå¤‰æ›´ï¼ˆdev/staging/prodï¼‰
MEMORY="1Gi"                # ãƒ¡ãƒ¢ãƒªå¢—é‡
MAX_INSTANCES="3"           # æœ€å¤§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ•°èª¿æ•´
LIFECYCLE_DAYS="60"         # ç”»åƒä¿æŒæœŸé–“å»¶é•·
```

### æ‹¡å¼µè¨­è¨ˆã®åŸå‰‡
- **ç–çµåˆ**: å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç‹¬ç«‹æ€§ç¶­æŒ
- **è¨­å®šé§†å‹•**: config.shãƒ»ç’°å¢ƒå¤‰æ•°ã§ã®æŸ”è»Ÿãªèª¿æ•´
- **äººé–“-AIåˆ†æ¥­**: äººé–“ãŒè¨­è¨ˆãƒ»AIãŒå®Ÿè£…ã®åŠ¹ç‡çš„å”åƒ
- **æ®µéšçš„æ‹¡å¼µ**: ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—â†’æœ¬æ ¼é‹ç”¨ã®æ®µéšçš„é€²åŒ–

ã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€30ç§’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰æœ¬æ ¼çš„ãªãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³é‹ç”¨ã¾ã§ã€ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«æ‹¡å¼µå¯èƒ½ãªæŸ”è»Ÿæ€§ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚